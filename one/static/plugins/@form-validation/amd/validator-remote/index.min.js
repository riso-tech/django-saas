/**
 * FormValidation (https://formvalidation.io)
 * The best validation library for JavaScript
 * (c) 2013 - 2023 Nguyen Huu Phuoc <me@phuoc.ng>
 *
 * @license https://formvalidation.io/license
 * @package @form-validation/validator-remote
 * @version 2.0.2
 */

define(["exports","@form-validation/core"],(function(e,a){"use strict";var t=a.utils.fetch;e.remote=function(){var e={crossDomain:!1,data:{},headers:{},method:"GET",validKey:"valid"};return{validate:function(a){if(""===a.value)return Promise.resolve({valid:!0});var r=Object.assign({},e,a.options),i=r.data;"function"==typeof r.data&&(i=r.data.call(this,a)),"string"==typeof i&&(i=JSON.parse(i)),i[r.name||a.field]=a.value;var o="function"==typeof r.url?r.url.call(this,a):r.url;return t(o,{crossDomain:r.crossDomain,headers:r.headers,method:r.method,params:i}).then((function(e){return Promise.resolve({message:e.message,meta:e,valid:"true"==="".concat(e[r.validKey])})})).catch((function(e){return Promise.reject({valid:!1})}))}}}}));
